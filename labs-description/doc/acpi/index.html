<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A library for parsing ACPI tables. This crate can be used by bootloaders and kernels for architectures that support ACPI. This crate is not feature-complete, but can parse lots of the more common tables. Parsing the ACPI tables is required for correctly setting up the APICs, HPET, and provides useful information about power management and many other platform capabilities."><meta name="keywords" content="rust, rustlang, rust-lang, acpi"><title>acpi - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../acpi/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../acpi/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate acpi</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 4.1.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../acpi/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">acpi</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/acpi/lib.rs.html#1-314">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A library for parsing ACPI tables. This crate can be used by bootloaders and kernels for architectures that
support ACPI. This crate is not feature-complete, but can parse lots of the more common tables. Parsing the
ACPI tables is required for correctly setting up the APICs, HPET, and provides useful information about power
management and many other platform capabilities.</p>
<p>This crate is designed to find and parse the static tables ACPI provides. It should be used in conjunction with
the <code>aml</code> crate, which is the (much less complete) AML parser used to parse the DSDT and SSDTs. These crates
are separate because some kernels may want to detect the static tables, but delay AML parsing to a later stage.</p>
<p>This crate requires <code>alloc</code> to make heap allocations. If you are trying to find the RSDP in an environment that
does not have a heap (e.g. a bootloader), you can use the <code>rsdp</code> crate. The types from that crate are
compatible with <code>acpi</code>.</p>
<h4 id="usage"><a href="#usage">Usage</a></h4>
<p>To use the library, you will need to provide an implementation of the <code>AcpiHandler</code> trait, which allows the
library to make requests such as mapping a particular region of physical memory into the virtual address space.</p>
<p>You then need to construct an instance of <code>AcpiTables</code>, which can be done in a few ways depending on how much
information you have:</p>
<ul>
<li>Use <code>AcpiTables::from_rsdp</code> if you have the physical address of the RSDP</li>
<li>Use <code>AcpiTables::from_rsdt</code> if you have the physical address of the RSDT/XSDT</li>
<li>Use <code>AcpiTables::search_for_rsdp_bios</code> if you don’t have the address of either, but <strong>you know you are
running on BIOS, not UEFI</strong></li>
<li>Use <code>AcpiTables::from_tables_direct</code> if you are using the library in an unusual setting, such as in usermode,
and have a custom method to enumerate and access the tables.</li>
</ul>
<p><code>AcpiTables</code> stores the addresses of all of the tables detected on a platform. The SDTs are parsed by this
library, or can be accessed directly with <code>from_sdt</code>, while the <code>DSDT</code> and any <code>SSDTs</code> should be parsed with
<code>aml</code>.</p>
<p>To gather information out of the static tables, a few of the types you should take a look at are:</p>
<ul>
<li><a href="platform/struct.PlatformInfo.html"><code>PlatformInfo</code></a> parses the FADT and MADT to create a nice view of the
processor topology and interrupt controllers on <code>x86_64</code>, and the interrupt controllers on other platforms.
<code>AcpiTables::platform_info</code> is a convenience method for constructing a <code>PlatformInfo</code>.</li>
<li><a href="hpet/struct.HpetInfo.html"><code>HpetInfo</code></a> parses the HPET table and tells you how to configure the High
Precision Event Timer.</li>
<li><a href="mcfg/struct.PciConfigRegions.html"><code>PciConfigRegions</code></a> parses the MCFG and tells you how PCIe configuration
space is mapped into physical memory.</li>
</ul>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.PowerProfile"><code>pub use crate::fadt::<a class="enum" href="fadt/enum.PowerProfile.html" title="enum acpi::fadt::PowerProfile">PowerProfile</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.HpetInfo"><code>pub use crate::hpet::<a class="struct" href="hpet/struct.HpetInfo.html" title="struct acpi::hpet::HpetInfo">HpetInfo</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.MadtError"><code>pub use crate::madt::<a class="enum" href="madt/enum.MadtError.html" title="enum acpi::madt::MadtError">MadtError</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.PciConfigRegions"><code>pub use crate::mcfg::<a class="struct" href="mcfg/struct.PciConfigRegions.html" title="struct acpi::mcfg::PciConfigRegions">PciConfigRegions</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.InterruptModel"><code>pub use crate::platform::interrupt::<a class="enum" href="platform/interrupt/enum.InterruptModel.html" title="enum acpi::platform::interrupt::InterruptModel">InterruptModel</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.PlatformInfo"><code>pub use crate::platform::<a class="struct" href="platform/struct.PlatformInfo.html" title="struct acpi::platform::PlatformInfo">PlatformInfo</a>;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="bgrt/index.html" title="acpi::bgrt mod">bgrt</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="fadt/index.html" title="acpi::fadt mod">fadt</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="hpet/index.html" title="acpi::hpet mod">hpet</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="madt/index.html" title="acpi::madt mod">madt</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="mcfg/index.html" title="acpi::mcfg mod">mcfg</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="platform/index.html" title="acpi::platform mod">platform</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="sdt/index.html" title="acpi::sdt mod">sdt</a></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AcpiTables.html" title="acpi::AcpiTables struct">AcpiTables</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AmlTable.html" title="acpi::AmlTable struct">AmlTable</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PhysicalMapping.html" title="acpi::PhysicalMapping struct">PhysicalMapping</a></div><div class="item-right docblock-short"><p>Describes a physical mapping created by <code>AcpiHandler::map_physical_region</code> and unmapped by
<code>AcpiHandler::unmap_physical_region</code>. The region mapped must be at least <code>size_of::&lt;T&gt;()</code>
bytes, but may be bigger.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Sdt.html" title="acpi::Sdt struct">Sdt</a></div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AcpiError.html" title="acpi::AcpiError enum">AcpiError</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.RsdpError.html" title="acpi::RsdpError enum">RsdpError</a></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.AcpiHandler.html" title="acpi::AcpiHandler trait">AcpiHandler</a></div><div class="item-right docblock-short"><p>An implementation of this trait must be provided to allow <code>acpi</code> to access platform-specific
functionality, such as mapping regions of physical memory. You are free to implement these
however you please, as long as they conform to the documentation of each function. The handler is stored in
every <code>PhysicalMapping</code> so it’s able to unmap itself when dropped, so this type needs to be something you can
clone/move about freely (e.g. a reference, wrapper over <code>Rc</code>, marker struct, etc.).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.AcpiTable.html" title="acpi::AcpiTable trait">AcpiTable</a></div><div class="item-right docblock-short"><p>All types representing ACPI tables should implement this trait.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="acpi" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-nightly (bc4b39c27 2022-08-29)" ></div></body></html>